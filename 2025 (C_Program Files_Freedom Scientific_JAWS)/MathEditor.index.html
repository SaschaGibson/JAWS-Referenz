<!DOCTYPE html>
<!-- saved from url=(0016)http://localhost -->
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
	<style>
		html {
			min-height: 100%;
		}
		body {
			background: radial-gradient(circle 800px, white, #f5f5f5, #acd5f1);
		}
		#loader {
			position: absolute;
			left: 50%;
			top: 30%;
			z-index: 1;
			width: 40px;
			height: 40px;
			margin: -5px 0 0 -5px;
			border: 5px solid #dadada;
			border-radius: 50%;
			border-top: 5px solid #3498db;
			animation: spin 1s linear infinite;
		}
		@keyframes spin {
			0% { transform: rotate(0deg); }
			100% { transform: rotate(360deg); }
		}
		#preview-label {
			position: absolute;
			top: 7px;
			left: 7px;
			display: inline-block;
			padding: 7px;
			background-color: #00468B;
			color: white;
			text-align: center;
			text-decoration: none;
			font-family: Verdana;
			font-size: 12px;
			font-weight: bold;
			border: solid 1px black;
			border-radius: 6px;
		}
		.math-content {
			position: absolute;
			left: 50%;
			top: 35%;
			transform: translate(-50%, -35%);
		}
		.math-error {
			color: red;
		}
	</style>
	<script type="text/javascript">
		var invalidPreviewMessage = "Invalid or Incomplete Equation";
		var lastError = "";

		function convertLatexToMathML(input){
			var mml = MathJax.tex2mml(input);
			var errors = mml.match(/data-mjx-error=\"([^"]+)\"/);
			if (Array.isArray(errors) && errors.length > 1) {
				lastError = errors[1];
				return "";
			}
			lastError = "";
			return mml;
		}

		function getLastError(){
			return lastError;
		}

		function setInvalidPreviewMessage(message){
			invalidPreviewMessage = message;
		}

		function showLoading(){
			document.getElementById("preview").style.display = "none";
			document.getElementById("preview-error").style.display = "none";
			document.getElementById("loader").style.display = "block";
		}

		function showPreview(content){
			document.getElementById("loader").style.display = "none";
			document.getElementById("preview-error").style.display = "none";

			var preview = document.getElementById("preview");
			preview.innerHTML = content;
			preview.style.display = "block";
		}

		function showPreviewError(error){
			document.getElementById("loader").style.display = "none";
			document.getElementById("preview").style.display = "none";

			var previewError = document.getElementById("preview-error");
			previewError.innerHTML = error;
			previewError.style.display = "block";
		}

		function previewLatexEquation(input){
			var mml = convertLatexToMathML(input);
			if (mml === ""){
				showPreviewError(invalidPreviewMessage);
			}
			else {
				showPreview(mml);
			}

			MathJax.texReset();
			MathJax.typesetClear();
			MathJax.typesetPromise([preview]).catch(function (err) {
				preview.innerHTML = '';
				preview.appendChild(document.createTextNode(err.message));
			});
		}

		window.MathJax = {
			loader: {
				load: ['[tex]/unicode']
			},
			tex: {
				packages: {'[+]': ['unicode']}
			}
		};
	</script>
	<script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js" id="MathJax-script"></script>
</head>
<body>
	<div id="loader" style="display:none;"></div>
	<div id="preview-label">Preview</div>
	<div id="preview" class="math-content" style="display:block;"></div>
	<div id="preview-error" class="math-content math-error" style="display:none;"></div>
</body>
</html>